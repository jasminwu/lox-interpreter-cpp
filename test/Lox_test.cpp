// TODO: test the `run` function